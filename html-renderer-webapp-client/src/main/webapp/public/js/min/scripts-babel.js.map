{"version":3,"sources":["../scripts.js"],"names":[],"mappings":"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","file":"scripts-babel.js","sourcesContent":["//mql = media query list\nconst breakOne = '360'; // 360px  22.5em\nconst breakTwo = '760'; // 760px  46.25em\n// const breakThree = '980'; // 980px  61.25em\n// const breakFour = '1140'; // 1140px  71.25em\n// const breakFive = '1300'; // 1300px  81.25\n\n// const mqlBreakOne = window.matchMedia(`(min-width: ${breakOne}px)`);\nconst mqlBreakTwo = window.matchMedia(`(min-width: ${breakTwo}px)`);\n// const mqlBreakThree = window.matchMedia(`(min-width: ${breakThree}px)`);\n// const mqlBreakFour = window.matchMedia(`(min-width: ${breakFour}px)`);\n// const mqlBreakFive = window.matchMedia(`(min-width: ${breakFive}px)`);\n\n// Event delegation for tables on small screens\ndocument.addEventListener('click', clickEventHandler, false);\n\nfunction clickEventHandler(e) {\n  // HTML TABLES pop under\n  // small screens only\n  if (window.matchMedia(`(max-width: ${breakTwo}px)`).matches) {\n    if (e.target.classList.contains('figure-header')) {\n      const tableToPop = e.target.nextElementSibling; // will always be a table\n      const tablePopIcon = e.target.querySelector('.table-xl--btn'); // the svg\n      tableToPop.classList.toggle('table-pop');\n      // TODO captions\n      if (tableToPop.classList.contains('table-pop')) {\n        tablePopIcon.classList.add('hilite');\n        tablePopIcon.innerHTML = `<svg class=\"icn\">\n\t\t\t\t<title>Open table</title>\n\t\t\t\t<use xlink:href=\"#arrows-close\" />\n\t\t\t\t</svg>`;\n      } else {\n        tablePopIcon.classList.remove('hilite');\n        tablePopIcon.innerHTML = `<svg class=\"icn\">\n\t\t\t\t<title>Open table</title>\n\t\t\t\t<use xlink:href=\"#arrows-open\" />\n\t\t\t\t</svg>`;\n      }\n    }\n  } else {\n    return;\n  }\n}\n\n// content switcher for show\nconst switchlink = document.querySelector('.switch');\nconst switchh1 = document.querySelector('.switch-h1');\nconst switchh2 = document.querySelector('.switch-h2');\nconst switchlede = document.querySelector('.switch-lede');\nconst switchToc = document.querySelectorAll('.switch-cont');\n\nconst htmlRoot = document.querySelector('html');\n\nswitchToc.forEach(switchto => (switchto.style.display = 'none'));\n\nif (switchh2) {\n  switchh2.style.display = 'none';\n  switchh1.style.display = 'none';\n  switchlede.style.display = 'none';\n  switchlink.addEventListener('click', switcheroo);\n}\n\nfunction switcheroo() {\n  htmlRoot.classList.add('in-chapter'); // add root class\n  switchlink.parentNode.classList.toggle('active');\n\n  switchh1.innerHTML = 'Focus';\n  switchToc.forEach(switchto => (switchto.style.display = 'block'));\n  switchh2.style.display = 'block';\n  switchh1.style.display = 'block';\n  switchlede.style.display = 'block';\n  switchlede.classList.toggle('lede');\n  switchh1.classList.toggle('alt');\n  switchh2.classList.toggle('alt');\n}\n\n// end switcher for show\n\n// 1/30/18 disclosure pop over\nconst disclosureLink = document.querySelector('p.disclosures a');\ndisclosureLink.addEventListener('click', popUpAction);\n\nconst popOverFragDisclosure = `\n<a class=\"close-popover\" href=\"#0\">✖︎</a>\n<div class=\"popover__content\" style=\"font-size: 0.875rem\">\n<p>This document is intended for institutional investors and is not subject to all of the independence and disclosure standards applicable to debt research reports prepared for retail investors under U.S. FINRA Rule 2242. Barclays trades the securities covered in this report for its own account and on a discretionary basis on behalf of certain clients. Such trading interests may be contrary to the recommendations offered in this report.</p>\n<p>For analyst certification(s) and important disclosures, please <a href=\"#0-link-to-disclosures\">click here</a>.</p>\n<p>Completed 12 Nov 2017, 12:00 GMT<br/>Released 14 Nov 2017, 0600 GMT</p><p>Barclays Classification: Restricted - External</p>\n</div>\n`;\n\n// end\n\nconst toc = document.querySelector('.toc');\nconst toctoc = document.querySelector('.toc__toc');\nconst menuShow = document.querySelector('.menu-bug');\nconst contentHeader = document.querySelector('.content__header');\nconst labelHeader = document.querySelector('.trigger');\n// const iconList = document.querySelector('.icon-list');\n// var iconListIcons = [].slice.call(iconList.querySelectorAll('a'));\n\n// open close toc\nmenuShow.addEventListener('click', activateToc);\n// labelHeader.addEventListener('click', activateToc);\n\nfunction activateToc() {\n  const tocCoords = toc.getBoundingClientRect();\n  const topOfToc = tocCoords.height;\n  toctoc.style.top = topOfToc + 'px';\n  toctoc.classList.toggle('toc__open');\n}\n\n//window.scroll functions\n//show menubar at top of page, make the icon list static\n\nwindow.addEventListener('scroll', debounce(fixTop, 16));\nconst tocCoords = toc.getBoundingClientRect();\nconst coords = { bottom: tocCoords.bottom + window.scrollY };\n\nconst header = document.querySelector('.content__header');\nconst headerHeight = header.getBoundingClientRect().height + 500;\nconst pageWrap = document.querySelector('article');\nvar lastScrollTop = 0;\n\nfunction fixTop() {\n  let currScrollTop = pageWrap.scrollTop;\n  let isScrollingDown = currScrollTop > lastScrollTop;\n  // console.log(isScrollingDown)\n  let isHeaderVisible = currScrollTop < headerHeight;\n  // console.log(isHeaderVisible)\n  if (window.scrollY > coords.bottom) {\n    // console.log(window.scrollY)\n    toc.classList.add('fix-top');\n    setTimeout(function() {\n      toc.classList.add('fix-top-open');\n    }, 0);\n  } else if (window.scrollY < coords.bottom) {\n    toc.classList.remove('fix-top');\n    toc.classList.remove('fix-top-open');\n  }\n}\n\nfunction debounce(func, wait) {\n  let timeout;\n  return function(...args) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(context, args), wait);\n  };\n}\n\n// footnotes\nconst fnlink = document.querySelector('.footnote-link');\nconst fntext = document.querySelector('.footnote-item');\n\nfunction show() {\n  this.classList.toggle('fn-expanded');\n  fntext.classList.toggle('fn-displayed');\n  setTimeout(animate, 100);\n}\nfunction animate() {\n  fntext.classList.toggle('fn-expanded');\n}\n// support MAIN-2 page\nif (fnlink) {\n  fnlink.addEventListener('click', show);\n}\n\n// NEW - added zoom\n// -- // -- // -- byline popovers\nconst popLinks = document.querySelectorAll('.byline a');\nconst popLinksArray = [...popLinks];\npopLinksArray.forEach(popLink =>\n  popLink.addEventListener('click', popUpAction),\n);\n\nconst popOver = document.createElement('div');\npopOver.classList.add('popover');\ndocument.body.appendChild(popOver);\n\nfunction popUpAction(e) {\n  const templateSelector = this.getAttribute('href');\n\n  // new zoom\n  if (templateSelector === '#icn-4') {\n    document.querySelector('html').classList.toggle('zoomed');\n    return;\n  }\n  // end new zoom\n\n  const linkCoords = this.getBoundingClientRect();\n  const coords = {\n    bottom: linkCoords.bottom + window.scrollY,\n    left: linkCoords.left + window.scrollX,\n  };\n  popOver.style.position = 'absolute';\n  popOver.style.top = `${coords.bottom + 4}px`;\n\n  //mql = media query list\n  let mql = window.matchMedia('(min-width: 760px)');\n\n  if (mql.matches) {\n    popOver.style.left = `${coords.left}px`;\n  } else {\n    popOver.style.left = `1rem`;\n  }\n\n  if (templateSelector === '#main-certifications-disclosures') {\n    popOver.innerHTML = popOverFragDisclosure;\n  } else if (templateSelector === '#multiples') {\n    popOver.innerHTML = popOverFragMultiples;\n  } else if (templateSelector === '#single') {\n    popOver.innerHTML = popOverFrag;\n  } else if (templateSelector === '#icn-1') {\n    popOver.innerHTML = popOverFragIcn01;\n  } else if (templateSelector === '#icn-2') {\n    popOver.innerHTML = popOverFragIcn02;\n  } else if (templateSelector === '#icn-3') {\n    popOver.innerHTML = popOverFragIcn03;\n  }\n\n  popOver.classList.toggle('show');\n\n  const tempVar = document.querySelector('.popover__content a');\n  tempVar.addEventListener('click', () => {\n    scrollIt(\n      document.querySelector('#main-certifications-disclosures'),\n      300,\n      'easeOutQuad',\n      // () => console.log(`Just finished scrolling to ${window.pageYOffset}px`)\n    );\n  });\n\n  const closePopover = popOver.querySelector('.close-popover');\n  closePopover.addEventListener('click', function() {\n    popOver.classList.remove('show');\n  });\n  e.preventDefault();\n}\n\nconst popOverFrag = `\n<a class=\"close-popover\" href=\"#00\">✖︎</a>\n\n<!-- number one -->\n\n<div class=\"popover__content multiple\">\n<div class=\"popover__authors\">\nBradley Rogoff, CFA\n<span class=\"popover-credentials\">BCI, US</span> \n<span class=\"popover-credentials\">High Grade Credit</span>\n</div>\n\t<ul>\n\n\t\t<li class=\"phone-container\">\n\t\t<svg class=\"icn\">\n\t\t<title>Phone number</title>\n\t\t<use xlink:href=\"#icon-phone\" />\n\t\t</svg>\n\t\t<a class=\"analyst-phone-link\" href=\"tel:+1 212 412 7903\">+1 (212) 526-4000</a></li>\n\n\t\t<li class=\"analyst-page analyst-page-container\">\n\t\t<svg class=\"icn\">\n\t\t<title>Phone number</title>\n\t\t<use xlink:href=\"#icon-person\" />\n\t\t</svg>\n\t\t<a class=\"analyst-page-link\" href=\"#0\">Analyst's Page</a></li>\n\n\t\t<li class=\"email-container\">\n\t\t<svg class=\"icn\">\n\t\t<title>Phone number</title>\n\t\t<use xlink:href=\"#icon-email\" />\n\t\t</svg>\n\t\t<a class=\"analyst-email-link\" href=\"#0\">bradley.rogoff@barclays.com</a></li>\n\n\t</ul>\n</div>\n\n<!-- number two -->\n\n<div class=\"popover__content multiple\">\n<div class=\"popover__authors\">\nBradley Rogoff, CFA\n<span class=\"popover-credentials\">BCI, US</span> \n<span class=\"popover-credentials\">High Grade Credit</span>\n</div>\n\n<ul>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-phone\" />\n</svg>\n<a href=\"#0\">+1 (212) 526-4000</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-person\" />\n</svg>\n<a href=\"#0\">Analyst's Page</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-email\" />\n</svg>\n<a href=\"#0\">bradley.rogoff@barclays.com</a></li>\n</ul>\n</div>\n\n<!-- number three -->\n\n<div class=\"popover__content multiple\">\n<div class=\"popover__authors\">\nBradley Rogoff, CFA\n<span class=\"popover-credentials\">BCI, US</span> \n<span class=\"popover-credentials\">High Grade Credit</span>\n</div>\n\n<ul>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-phone\" />\n</svg>\n<a href=\"#0\">+1 (212) 526-4000</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-person\" />\n</svg>\n<a href=\"#0\">Analyst's Page</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-email\" />\n</svg>\n<a href=\"#0\">bradley.rogoff@barclays.com</a></li>\n</ul>\n\n</div>\n`;\n\nconst popOverFragIcn01 = `\n<a class=\"close-popover\" href=\"#0\">✖︎</a>\n<div class=\"popover__content\">\n\n<div>Subscribe</div>\n<ul>\n<li><a href=\"#0\">Add to Read Later</a> <input type=\"checkbox\"> </li>\n<li><a href=\"#0\">Clippings &amp; Annotations</a>\n<ul>\n<li><a href=\"#0\">Annotation 1</a></li>\n<li><a href=\"#0\">Annotation 2</a></li>\n</ul>\n</li>\n\n</ul>\n\n<div>Document Tools</div>\n<ul>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Add to Quicklist</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Add to Briefcase</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Email Me</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Share</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Subscribe Client</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Copy Link</a></li>\n</ul>\n\n</div>\n\n</div>\n`;\n\nconst popOverFragIcn02 = `\n<a class=\"close-popover\" href=\"#0\">✖︎</a>\n<div class=\"popover__content\">\n\n<div>Print PDF</div>\n<ul style=\"display: block\">\n<li><a><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xE001;\"></span> This chapter (3 pages)</a></li>\n<li><a><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xE001;\"></span> US Credit Alpha (43 pages)</a></li>\n</ul>\n</div>\n</div>\n`;\n\nconst popOverFragIcn03 = `\n<a class=\"close-popover\" href=\"#0\">✖︎</a>\n<div class=\"popover__content attachments\">\n\n<div>Attachments in this article</div>\n<ul style=\"display: block\">\n<li> \n\t<a>\n\t\t<svg class=\"icn\">\n\t\t\t<title>PDF Attachment</title>\n\t\t\t<use xlink:href=\"#pdf\" />\n\t  \t</svg>\n\t\t<span>PDF Attachment</span>\n\t</a>\n</li>\n<li>\n\t<a>\n\t\t<svg class=\"icn\">\n\t\t\t<title>PDF Attachment</title>\n\t\t\t<use xlink:href=\"#excel\" />\n\t\t</svg>\n\t\t<span>Excel Attachment</span>\n\t</a>\n</li>\n</ul>\n</div>\n</div>\n`;\n\n//variables\nvar popElemArr = Array.from(document.querySelectorAll('.popable'));\n\nfunction showTools() {\n  // only if the icon is visible\n  if (this.querySelector('.popable > figure')) {\n    var elToExpand = this.querySelector('.expand-image');\n    console.log(elToExpand);\n    elToExpand.classList.toggle('hovered');\n  }\n}\n\n// build the expanded state\nvar expandedElem = document.createElement('div');\nexpandedElem.classList.add('expanded-item');\n\nfunction showPopover() {\n  if (this.querySelector('.popable > figure')) {\n    var itemToPop = this.querySelector('.popable > figure a img');\n    // grab node content before cloning\n    var figureHeader = document.querySelector('.figure-header');\n    var headerText = figureHeader.innerText;\n    var captionContent = document.querySelector('.caption').innerText;\n    var sourceText = document.querySelector('.source').innerText;\n    // alter the node before cloning\n    document.querySelector('.expand-image').style.display = 'none';\n    // figureHeader.innerText = '';\n    // clone the node\n    var node = itemToPop.cloneNode(true);\n    var expandIcon = itemToPop.querySelector('.expand-image');\n  }\n\n  var popoverContent = `\n\t<div class=\"topbar\">\n\t<div class=\"expand-close\">✖︎</div>\n\t\t<h3 class=\"header-text\">${headerText}</h3>\n\t\t<p class=\"caption-text\">${captionContent}</p>\n\t\t<p class=\"source-text\">${sourceText}</p>\n\t</div>\n\t`;\n\n  expandedElem.innerHTML = popoverContent;\n  expandedElem.appendChild(node);\n  document.body.appendChild(expandedElem);\n\n  const expandClose = document.querySelector('.expand-close');\n  expandClose.addEventListener('click', function() {\n    expandedElem.innerHTML = '';\n    document.body.removeChild(expandedElem);\n    document.querySelector('.expand-image').style.display = '';\n  });\n}\n\n// event listeners\npopElemArr.forEach(el => el.addEventListener('click', showPopover, false));\npopElemArr.forEach(el => el.addEventListener('mouseover', showTools, false));\npopElemArr.forEach(el => el.addEventListener('mouseout', showTools, false));\n"]}